{#
    basic/searchbox.html
    ~~~~~~~~~~~~~~~~~~~~

    Sphinx sidebar template: quick search box.

    :copyright: Copyright 2007-2016 by the Sphinx team, see AUTHORS.
    :license: BSD, see LICENSE for details.
#}
{%- if pagename != "search" and builder != "singlehtml" %}
<div id="searchbox" role="search">
<!--    <form class="search" action="{{ pathto('search') }}" method="get">-->
    <form class="search">
        <div class="search-container">
            <input class="search_text" type="text" placeholder="Search documentation" name="q" />
            <span class="icon-submit">
                <i class="fa fa-search search-complete__icon" aria-hidden="true"></i>
            </span>
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
{% set algoliaOptions = '{}' %}
{% if oro_current_version %}
    {% set algoliaOptions = "{ 'facetFilters': [\"version:" ~ oro_current_version ~ "\"] }" %}
{% endif %}
<script>
    docsearch({
        appId: 'BH4D9OD16A',
        apiKey: 'e3c892f37816d9486c2ed56fca7a67bb',
        indexName: 'oroinc',
        inputSelector: '#searchbox input[type=text]',
        algoliaOptions: {{ algoliaOptions }},
        debug: false
    });
</script>

<script type="text/javascript">
    $('.header-search .search_text').keypress(function(e) {
        if (e.keyCode === 13) {
            e.preventDefault();
            return false;
        }
    });
</script>


{%- endif %}
